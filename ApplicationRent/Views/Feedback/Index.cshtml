@{
    ViewData["Title"] = "Контакты";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<main class="main">
    <section class="contacts">
        <div class="contacts-container">
            <h1 class="contacts-title">Контактная информация</h1>
            <h4 class="contacts-address">Россия, 123456, г.Москва, Ул. Большая Семеновская 38</h4>
            <p class="contacts-subtitle">Телефон в Москве</p>
            <p class="contacts-info-tel">+7 (999) 777 66 55</p>
            <p class="contacts-subtitle">Email</p>
            <p class="contacts-info-mail">rentinfo@mail.ru</p>
            <div class="contacts-icons">
                <img src="~/img/Contacts\socials.svg" alt="VK" href="#" class="contacts-icon" />
                <img src="~/img/Contacts\socials2.svg" alt="Telegram" href="#" class="contacts-icon" />
                <img src="~/img/Contacts\socials3.svg" alt="WhatsApp" href="#" class="contacts-icon" />
            </div>
        </div>
    </section>

    <section class="contacts-form">
        <div class="contacts-form-container">
            <div class="contacts-form-grid">
                <div class="contacts-form-block">
                    <img src="~/img/Contacts\form-pic.jpg" alt="Форма обратной связи" class="contacts-form-pic" />
                </div>
                <div class="contacts-form-block">
                    <h1 class="contacts-form-title">Свяжитесь с нами</h1>
                    <form id="feedbackForm" asp-action="SubmitFeedback" method="post" class="contacts-form-areas">
                        <div asp-validation-summary="ModelOnly"></div>

                        <div class="contacts-form-group">
                            <input type="text" id="name" name="Name" placeholder="Введите ваше имя" required class="contacts-form-input" />
                        </div>

                        <div class="contacts-form-group">
                            <input type="email" id="email" name="Email" placeholder="Введите ваш email" required class="contacts-form-input" />
                        </div>

                        <div class="contacts-form-group">
                            <input type="text" id="subject" name="Subject" placeholder="Введите тему сообщения" required class="contacts-form-input" />
                        </div>

                        <div class="contacts-form-group">
                            <textarea id="message" name="Message" placeholder="Введите ваше сообщение" required class="contacts-form-input-area"></textarea>
                        </div>

                        <input type="hidden" name="Platform" value="Сайт" />

                        <button type="submit" class="contacts-form-btn">Отправить</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
</main>
<script>
    $(document).ready(function () {
        $('#feedbackForm').submit(function (event) {
            event.preventDefault(); // Предотвращение стандартной отправки формы
            var formData = $(this).serialize(); // Сериализация данных формы

            $.ajax({
                type: 'POST',
                url: $(this).attr('action'),
                data: formData,
                success: function (response) {
                    $('.alert').remove(); // Удаление предыдущих уведомлений
                    if (response.success) {
                        $('#feedbackForm').before('<div class="alert alert-success">' + response.message + '</div>'); // Добавление сообщения об успехе
                        $('#feedbackForm').trigger('reset'); // Очистка формы
                    } else {
                        $('#feedbackForm').before('<div class="alert alert-danger">' + response.message + '</div>'); // Добавление сообщения об ошибке
                    }
                }
            });
        });
    });
</script>

@* <h1>@ViewData["Title"]</h1> *@

@* <p>
    Обратная связь
</p> *@

@* @if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}

<form asp-action="SubmitFeedback" method="post">
    <div asp-validation-summary="ModelOnly"></div>

    <div class="form-group">
        <label for="name">Имя</label>
        <input type="text" id="name" name="Name" required class="form-control" />
    </div>

    <div class="form-group">
        <label for="email">Почта</label>
        <input type="email" id="email" name="Email" required class="form-control" />
    </div>

    <div class="form-group">
        <label for="subject">Тема</label>
        <input type="text" id="subject" name="Subject" required class="form-control" />
    </div>

    <div class="form-group">
        <label for="message">Сообщение</label>
        <textarea id="message" name="Message" required class="form-control"></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Отправить</button>
</form> *@